<div class="dashboard-container" [class.loading]="loading">
  <!-- Loading and error states -->
  <div *ngIf="loading" class="loading-overlay">
    <div class="spinner"></div>
    <p>Loading your dashboard...</p>
  </div>
  
  <div *ngIf="error" class="error-message">
    <i class="fas fa-exclamation-triangle"></i>
    <p>Sorry, we couldn't load your maintenance data. Please try again later.</p>
    <button class="btn-primary" (click)="refreshData()">Try Again</button>
  </div>

  <!-- Dashboard header -->
  <header class="dashboard-header">
    <div class="dashboard-intro">
      <h1>Resident Dashboard</h1>
      <p>Welcome back! Here's an overview of your maintenance requests.</p>
    </div>
    <button class="btn-refresh" (click)="refreshData()" title="Refresh data">
      <i class="fas fa-sync-alt"></i> Refresh
    </button>
  </header>

  <!-- Stats cards -->
  <div class="stats-cards">
    <div class="stat-card total">
      <div class="stat-icon">
        <i class="fas fa-clipboard-list"></i>
      </div>
      <div class="stat-content">
        <h3>Total Requests</h3>
        <p class="stat-value">{{totalRequests}}</p>
      </div>
    </div>
    
    <div class="stat-card open">
      <div class="stat-icon">
        <i class="fas fa-exclamation-circle"></i>
      </div>
      <div class="stat-content">
        <h3>Open</h3>
        <p class="stat-value">{{openRequests}}</p>
      </div>
    </div>
    
    <div class="stat-card in-progress">
      <div class="stat-icon">
        <i class="fas fa-tools"></i>
      </div>
      <div class="stat-content">
        <h3>In Progress</h3>
        <p class="stat-value">{{inProgressRequests}}</p>
      </div>
    </div>
    
    <div class="stat-card completed">
      <div class="stat-icon">
        <i class="fas fa-check-circle"></i>
      </div>
      <div class="stat-content">
        <h3>Completed</h3>
        <p class="stat-value">{{completedRequests}}</p>
      </div>
    </div>
  </div>

  <!-- Charts section -->
  <div class="charts-section">
    <!-- Status chart -->
    <div class="chart-container">
      <h2>Request Status</h2>
      <div class="chart-wrapper">
        <canvas id="statusChart"></canvas>
      </div>
    </div>
    
    <!-- Category chart -->
    <div class="chart-container">
      <h2>Request Categories</h2>
      <div class="chart-wrapper">
        <canvas id="categoryChart"></canvas>
      </div>
    </div>
  </div>
  
</div>